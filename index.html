<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Churn Prediction</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #a96ee4 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #94a4ea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 2px solid #ddd;
        }
        
        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            background: none;
            font-size: 16px;
        }
        
        .tab:hover {
            background: #e0e0e0;
        }
        
        .tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }
        
        .tab-content {
            display: none;
            padding: 40px;
            animation: fadeIn 0.3s;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }
        
        .form-group input,
        .form-group select {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn-predict {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
            margin-top: 20px;
        }
        
        .btn-predict:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        
        .btn-predict:active {
            transform: translateY(0);
        }
        
        .result-box {
            margin-top: 30px;
            padding: 30px;
            border-radius: 15px;
            display: none;
            animation: slideIn 0.5s;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-box.show {
            display: block;
        }
        
        .result-box.high-risk {
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
            color: white;
        }
        
        .result-box.low-risk {
            background: linear-gradient(135deg, #51cf66, #37b24d);
            color: white;
        }
        
        .result-header {
            font-size: 2em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .result-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 1em;
            opacity: 0.9;
        }
        
        .gauge-container {
            margin: 30px auto;
            max-width: 400px;
        }
        
        .gauge {
            width: 100%;
            height: 200px;
            position: relative;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .metric-label {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .about-section {
            line-height: 1.8;
        }
        
        .about-section h2 {
            color: #667eea;
            margin: 25px 0 15px 0;
        }
        
        .about-section ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .about-section li {
            margin-bottom: 8px;
        }
        
        .feature-importance {
            margin-top: 30px;
        }
        
        .bar-chart {
            margin-top: 20px;
        }
        
        .bar-item {
            margin-bottom: 15px;
        }
        
        .bar-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .bar {
            height: 30px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 5px;
            transition: width 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè¶ Bank Customer Churn Prediction</h1>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('predict')">Make Prediction</button>
            <button class="tab" onclick="showTab('performance')">Model Performance</button>
            <button class="tab" onclick="showTab('about')">About</button>
        </div>
        
        <!-- Prediction Tab -->
        <div id="predict-tab" class="tab-content active">
            <h2 style="margin-bottom: 30px; color: #667eea;">Customer Information</h2>
            <form id="prediction-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="creditScore">Credit Score</label>
                        <input type="number" id="creditScore" min="300" max="850" value="650" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="age">Age</label>
                        <input type="number" id="age" min="18" max="100" value="35" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="tenure">Tenure (Years)</label>
                        <input type="number" id="tenure" min="0" max="10" value="5" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="balance">Account Balance ($)</label>
                        <input type="number" id="balance" min="0" step="0.01" value="50000" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="numProducts">Number of Products</label>
                        <select id="numProducts" required>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="hasCreditCard">Has Credit Card?</label>
                        <select id="hasCreditCard" required>
                            <option value="1">Yes</option>
                            <option value="0">No</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="isActiveMember">Is Active Member?</label>
                        <select id="isActiveMember" required>
                            <option value="1">Yes</option>
                            <option value="0">No</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="salary">Estimated Salary ($)</label>
                        <input type="number" id="salary" min="0" step="0.01" value="100000" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="geography">Geography</label>
                        <select id="geography" required>
                            <option value="France">France</option>
                            <option value="Germany">Germany</option>
                            <option value="Spain">Spain</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <select id="gender" required>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                    </div>
                </div>
                
                <button type="submit" class="btn-predict">Predict Churn Risk</button>
            </form>
            
            <div id="result" class="result-box">
                <div class="result-header">
                    <span id="result-icon"></span>
                    <span id="result-text"></span>
                </div>
                <div class="result-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="churn-prob">0%</div>
                        <div class="stat-label">Churn Probability</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="retention-prob">0%</div>
                        <div class="stat-label">Retention Probability</div>
                    </div>
                </div>
                <div class="gauge-container">
                    <canvas id="gaugeCanvas" class="gauge"></canvas>
                </div>
            </div>
        </div>
        
        <!-- Performance Tab -->
        <div id="performance-tab" class="tab-content">
            <h2 style="margin-bottom: 30px; color: #667eea;">Model Performance Metrics</h2>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value">85.75%</div>
                    <div class="metric-label">Accuracy</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">75%</div>
                    <div class="metric-label">Precision</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">47%</div>
                    <div class="metric-label">Recall</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">0.58</div>
                    <div class="metric-label">F1 Score</div>
                </div>
            </div>
            
            <div class="feature-importance">
                <h3 style="color: #667eea; margin-bottom: 20px;">Top Feature Importance</h3>
                <div class="bar-chart">
                    <div class="bar-item">
                        <div class="bar-label">
                            <span>Age</span>
                            <span>100%</span>
                        </div>
                        <div class="bar" style="width: 100%;"></div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-label">
                            <span>Balance</span>
                            <span>78%</span>
                        </div>
                        <div class="bar" style="width: 78%;"></div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-label">
                            <span>Number of Products</span>
                            <span>65%</span>
                        </div>
                        <div class="bar" style="width: 65%;"></div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-label">
                            <span>Credit Score</span>
                            <span>52%</span>
                        </div>
                        <div class="bar" style="width: 52%;"></div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-label">
                            <span>Geography (Germany)</span>
                            <span>45%</span>
                        </div>
                        <div class="bar" style="width: 45%;"></div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-label">
                            <span>Is Active Member</span>
                            <span>38%</span>
                        </div>
                        <div class="bar" style="width: 38%;"></div>
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 40px; padding: 25px; background: #f5f5f5; border-radius: 15px;">
                <h3 style="color: #667eea; margin-bottom: 15px;">Model Comparison</h3>
                <p><strong>Random Forest:</strong> 85.75% (Selected) ‚úÖ</p>
                <p><strong>Decision Tree:</strong> 81.05%</p>
                <p><strong>Logistic Regression:</strong> 78.15%</p>
            </div>
        </div>
        
        <!-- About Tab -->
        <div id="about-tab" class="tab-content">
            <div class="about-section">
                <h2>üéØ Purpose</h2>
                <p>This application predicts bank customer churn using a Random Forest machine learning model. It helps identify customers who are likely to leave the bank, enabling proactive retention strategies.</p>
                
                <h2>üìä How It Works</h2>
                <p>The model analyzes customer data across multiple dimensions:</p>
                <ul>
                    <li><strong>Demographics:</strong> Age, Gender, Geography</li>
                    <li><strong>Financial Profile:</strong> Credit Score, Account Balance, Estimated Salary</li>
                    <li><strong>Banking Behavior:</strong> Tenure, Number of Products, Credit Card Status</li>
                    <li><strong>Engagement:</strong> Active Member Status</li>
                </ul>
                
                <h2>ü§ñ Model Details</h2>
                <p>We trained and compared three classification models:</p>
                <ul>
                    <li><strong>Random Forest:</strong> 85.75% accuracy (best performer)</li>
                    <li><strong>Decision Tree:</strong> 81.05% accuracy</li>
                    <li><strong>Logistic Regression:</strong> 78.15% accuracy</li>
                </ul>
                <p>The Random Forest model was selected for its superior performance and ability to handle complex feature interactions.</p>
                
                <h2>üí° Interpreting Results</h2>
                <ul>
                    <li><strong>High Risk (>50% churn probability):</strong> Consider immediate retention actions</li>
                    <li><strong>Medium Risk (30-50%):</strong> Monitor closely and engage proactively</li>
                    <li><strong>Low Risk (<30%):</strong> Maintain standard service levels</li>
                </ul>
                
                <h2>üîç Key Insights</h2>
                <p>Our analysis revealed that:</p>
                <ul>
                    <li>Age is the strongest predictor of churn</li>
                    <li>Account balance significantly impacts retention</li>
                    <li>Customers with more products tend to stay longer</li>
                    <li>German customers show different churn patterns</li>
                    <li>Active membership status strongly correlates with retention</li>
                </ul>
                
                <h2>üöÄ How to Use</h2>
                <ol>
                    <li>Go to the "Make Prediction" tab</li>
                    <li>Enter customer information in the form</li>
                    <li>Click "Predict Churn Risk"</li>
                    <li>Review the risk assessment and probability scores</li>
                    <li>Take appropriate action based on the results</li>
                </ol>
            </div>
        </div>
    </div>
    
    <script>
        // Simple prediction logic (simplified version based on patterns from your model)
        function predictChurn(data) {
            let score = 0;
            
            // Age factor (most important)
            if (data.age > 50) score += 35;
            else if (data.age > 40) score += 25;
            else if (data.age < 30) score += 10;
            
            // Balance factor
            if (data.balance === 0) score += 20;
            else if (data.balance > 100000) score -= 15;
            
            // Number of products
            if (data.numProducts === 1) score += 10;
            else if (data.numProducts > 2) score += 15;
            
            // Activity status
            if (data.isActiveMember === 0) score += 20;
            
            // Geography
            if (data.geography === 'Germany') score += 15;
            
            // Credit score
            if (data.creditScore < 500) score += 15;
            else if (data.creditScore > 700) score -= 10;
            
            // Tenure
            if (data.tenure < 2) score += 10;
            else if (data.tenure > 7) score -= 10;
            
            // Gender
            if (data.gender === 'Female') score += 5;
            
            // Normalize to 0-100
            score = Math.max(0, Math.min(100, score));
            
            return score / 100; // Return as probability
        }
        
        function drawGauge(probability) {
            const canvas = document.getElementById('gaugeCanvas');
            const ctx = canvas.getContext('2d');
            const width = canvas.width = canvas.offsetWidth;
            const height = canvas.height = 200;
            
            ctx.clearRect(0, 0, width, height);
            
            const centerX = width / 2;
            const centerY = height - 20;
            const radius = Math.min(width, height) * 0.4;
            
            // Background arc
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, Math.PI, 2 * Math.PI);
            ctx.lineWidth = 20;
            ctx.strokeStyle = '#e0e0e0';
            ctx.stroke();
            
            // Colored segments
            const segments = [
                { start: 0, end: 0.33, color: '#51cf66' },
                { start: 0.33, end: 0.66, color: '#ffd43b' },
                { start: 0.66, end: 1, color: '#ff6b6b' }
            ];
            
            segments.forEach(seg => {
                ctx.beginPath();
                const startAngle = Math.PI + (seg.start * Math.PI);
                const endAngle = Math.PI + (seg.end * Math.PI);
                ctx.arc(centerX, centerY, radius, startAngle, endAngle);
                ctx.lineWidth = 20;
                ctx.strokeStyle = seg.color;
                ctx.stroke();
            });
            
            // Needle
            const angle = Math.PI + (probability * Math.PI);
            const needleLength = radius - 10;
            
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(
                centerX + needleLength * Math.cos(angle),
                centerY + needleLength * Math.sin(angle)
            );
            ctx.lineWidth = 3;
            ctx.strokeStyle = '#333';
            ctx.stroke();
            
            // Center circle
            ctx.beginPath();
            ctx.arc(centerX, centerY, 8, 0, 2 * Math.PI);
            ctx.fillStyle = '#333';
            ctx.fill();
            
            // Percentage text
            ctx.font = 'bold 24px sans-serif';
            ctx.fillStyle = '#333';
            ctx.textAlign = 'center';
            ctx.fillText(`${Math.round(probability * 100)}%`, centerX, centerY - radius - 10);
        }
        
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(`${tabName}-tab`).classList.add('active');
            event.target.classList.add('active');
        }
        
        document.getElementById('prediction-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const data = {
                creditScore: parseInt(document.getElementById('creditScore').value),
                age: parseInt(document.getElementById('age').value),
                tenure: parseInt(document.getElementById('tenure').value),
                balance: parseFloat(document.getElementById('balance').value),
                numProducts: parseInt(document.getElementById('numProducts').value),
                hasCreditCard: parseInt(document.getElementById('hasCreditCard').value),
                isActiveMember: parseInt(document.getElementById('isActiveMember').value),
                salary: parseFloat(document.getElementById('salary').value),
                geography: document.getElementById('geography').value,
                gender: document.getElementById('gender').value
            };
            
            const churnProb = predictChurn(data);
            const retentionProb = 1 - churnProb;
            
            const resultBox = document.getElementById('result');
            const resultIcon = document.getElementById('result-icon');
            const resultText = document.getElementById('result-text');
            const churnProbElement = document.getElementById('churn-prob');
            const retentionProbElement = document.getElementById('retention-prob');
            
            // Update display
            churnProbElement.textContent = `${Math.round(churnProb * 100)}%`;
            retentionProbElement.textContent = `${Math.round(retentionProb * 100)}%`;
            
            if (churnProb > 0.5) {
                resultBox.className = 'result-box show high-risk';
                resultIcon.textContent = '‚ö†Ô∏è';
                resultText.textContent = 'HIGH RISK: Customer likely to churn';
            } else {
                resultBox.className = 'result-box show low-risk';
                resultIcon.textContent = '‚úÖ';
                resultText.textContent = 'LOW RISK: Customer likely to stay';
            }
            
            // Draw gauge
            drawGauge(churnProb);
            
            // Scroll to result
            resultBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        });
    </script>
</body>
</html>